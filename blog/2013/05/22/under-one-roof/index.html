<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Under One Roof</title>
  <meta name="author" content="Robert McGibbon">

    <link href="/atom.xml" type="application/atom+xml" rel="alternate"
        title="Robert's Notebook Atom Feed" />
    
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="http://rmcgibbo.github.io/favicon.png" rel="icon">
  <link href="http://rmcgibbo.github.io/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="http://rmcgibbo.github.io/theme/js/modernizr-2.0.js"></script>
  <script src="http://rmcgibbo.github.io/theme/js/ender.js"></script>
  <script src="http://rmcgibbo.github.io/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">

  <!-- Using MathJax, with the delimiters $ -->
  <!-- Conflict with pygments for the .mo and .mi -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
    styles: {
    ".MathJax .mo, .MathJax .mi": {color: "black ! important"}}
    },
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']],processEscapes: true}
    });
    MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function () {
    var VARIANT = MathJax.OutputJax["HTML-CSS"].FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
    MathJax.Hub.Register.StartupHook("SVG Jax Ready",function () {
    var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head><body>
  <header role="banner"><hgroup>
  <h1><a href="http://rmcgibbo.github.io/">Robert's Notebook</a></h1>
      <h2>Computational Chemistry, Python, Politics, Policy</h2>
  </hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss">RSS</a></li>
  </ul>


<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rmcgibbo.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<ul class="main-navigation">
  <li><a href="http://rmcgibbo.github.io/">Blog</a></li>
      <li><a href="/archives.html">Archives</a></li>
      <li><a href="http://rmcgibbo.appspot.com/">Home Page</a></li>
            <!-- TODO: add categories here? -->
  </ul></nav>
  <div id="main">
    <div id="content">
      <div>
  <article class="hentry" role="article">
    <header>
          <h1 class="entry-title">Under One Roof</h1>
          <p class="meta"><time datetime="2013-05-22T22:03:00" pubdate>May 22, 2013</time></p>
</header>

  <div class="entry-content"><p>One of the goals of the MSMBuilder3 development is to make the package as easy
to use as possible. Analyzing molecular dynamics is hard enough, so there's
no reason that the software should get in your way.</p>
<p>Currently, all of the the MSMBuilder commands are separate scripts that are
installed into your path, which means that you need to remember all of the
commands. If you forget -- <em>wait, what is the name of the script for computing
implied timescales?</em> - you'll have to go back to the tutorial and check.
That's a pain.</p>
<p>Most command line utilities let you access all their different utilities from
subcommands: think <code>git pull</code> or <code>svn checkout</code>. For MSMBuilder3, we're going
to put everything under <code>msmb</code>.</p>
<p>One immediate UX improvement is the the ability to have a help text directly
on the root <code>msmb -h</code> command. I'm currently developing the feature in a
different repository, which is <a href="https://github.com/rmcgibbo/msmbuilder_config">here</a>.
It's not complete yet, but it'll look something like this:</p>
<div class="highlight"><pre>rmcgibbo@Roberts-MacBook-Pro-2 ~/projects/msmbuilder_config
$ msmb -h
MSMBuilder: Software for building Markov State Models for Biomolecular Dynamics
===============================================================================

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi sed nibh ut orci
suscipit scelerisque. Sed ligula augue, blandit ac eleifend eleifend, dapibus ac
sapien. Duis eu tortor ac erat porta vulputate. Phasellus ac nisl quis magna


Subcommands
-----------
atomindices
    Construct list of atoms for RMSD calculations
mkprofile
    Create a sample configuration file
assign
    Assign trajectories to microstates.
cluster
    Cluster trajectories into microstates.

Options
-------
--log-level=&lt;Enum&gt; (Application.log_level)
    Default: 30
    Choices: (0, 10, 20, 30, 40, 50, &#39;DEBUG&#39;, &#39;INFO&#39;, &#39;WARN&#39;, &#39;ERROR&#39;, &#39;CRITICAL&#39;)
    Set the log level by value or name.

To see all available configurables, use `--help-all`
</pre></div>


<p>Here's what the output from running one of the subcommands would look like:</p>
<div class="highlight"><pre>$ msmb cluster -h
Cluster trajectories into microstates.
======================================

Output: Assignments.h5, and other files depending on your choice of distance
metric and/or clustering algorithm.

Note that there are many distance metrics and clustering algorithms available
Many of which have multiple options and parameters.

Reference
---------
A. B. Author, B. C. Author and C. D. Author, Title of our awesome paper. Chem.
Theory Comput. 7, 3412 (2013)

Options
-------
--metric_type=&lt;Enum&gt; (Cluster.metric_type)
    Default: &#39;RMSD&#39;
    Choices: [&#39;RMSD&#39;, &#39;Pnorm&#39;]
    What distance metric to use?
--representation=&lt;Enum&gt; (Cluster.representation)
    Default: &#39;Cartesian&#39;
    Choices: [&#39;Cartesian&#39;, &#39;Dihedral&#39;, &#39;ContinuousContact&#39;]
    What representation of system to use? This amounts to picking a coordinate
    system. The RMSD metric should operate on cartesian coordinates, but other
    metrics require a coordinate system that removes the rotational symmetry,
    such as the space of backbone dihedral angles (Dihedral)
--project_fn=&lt;Unicode&gt; (Cluster.project_fn)
    Default: u&#39;project.yaml&#39;
    Path to project info file
--output_dir=&lt;Unicode&gt; (Cluster.output_dir)
    Default: u&#39;data/&#39;
    Output directory to save clustering data. This will include: (1)
    Assignments.h5 (If clustering is hierarchical or stride=1): Contains the
    state assignments (2) Assignments.h5.distances (If clustering is
    hierarchical or stride=1): Contains the distance to the generator according
    to the distance metric that was employed (3) Gens.lh5 Trajectory object
    representing the generators for each state
--stride=&lt;Int&gt; (Cluster.stride)
    Default: 1
    Subsample by striding

To see all available configurables, use `--help-all`
</pre></div>


<p>There are a few other goodies, including the ability to specify options both on the
command line or in a config file. The config file is pretty easy to work with too,
since you can create a default one with <code>msmb mkprofile</code> that has all of the
possible options, just commented out. It's based on the <a href="http://ipython.org/ipython-doc/stable/config/overview.html">IPython configuration system</a>,
which is definitely <a href="http://python.6.x6.nabble.com/IPython-config-HasTraits-Traitlets-as-an-independent-library-td5014385.html">the best</a>.
I'll post on that later.</p></div>
    <footer>
      <p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">Robert McGibbon</span>
  </span>
  <time datetime="2013-05-22T22:03:00" pubdate>May 22, 2013</time>    <span class="categories">
        <a class="category" href="http://rmcgibbo.github.io/tag/msmbuilder.html">msmbuilder</a>
        <a class="category" href="http://rmcgibbo.github.io/tag/msmbuilder3.html">msmbuilder3</a>
        <a class="category" href="http://rmcgibbo.github.io/tag/python.html">python</a>
      </span>
  </p>      <div class="sharing">
    <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://rmcgibbo.github.io/blog/2013/05/22/under-one-roof/" data-via="rmcgibbo" data-counturl="http://rmcgibbo.github.io/blog/2013/05/22/under-one-roof/" >Tweet</a>
      </div>    </footer>
  </article>

    <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
  </div>
      <aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
            <li class="post">
          <a href="http://rmcgibbo.github.io/blog/2013/05/23/projects-in-the-pipeline/">Projects in the Pipeline</a>
      </li>
            <li class="post">
          <a href="http://rmcgibbo.github.io/blog/2013/05/23/openmm-builder/">OpenMM Script Builder</a>
      </li>
            <li class="post">
          <a href="http://rmcgibbo.github.io/blog/2013/05/22/first-first-author/">First First-Author Paper</a>
      </li>
            <li class="post">
          <a href="http://rmcgibbo.github.io/blog/2013/05/22/group-meeting/">Group Meeting</a>
      </li>
            <li class="post">
          <a href="http://rmcgibbo.github.io/blog/2013/05/22/under-one-roof/">Under One Roof</a>
      </li>
          </ul>
  </section>
    <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
              <li><a href="http://rmcgibbo.github.io/category/misc.html">misc</a></li>
          </ul>
  </section>
   

  <section>
  <h1>Tags</h1>
      <a href="http://rmcgibbo.github.io/tag/web.html">web</a>,      <a href="http://rmcgibbo.github.io/tag/python.html">python</a>,      <a href="http://rmcgibbo.github.io/tag/science.html">science</a>,      <a href="http://rmcgibbo.github.io/tag/msmbuilder3.html">msmbuilder3</a>,      <a href="http://rmcgibbo.github.io/tag/msmbuilder.html">msmbuilder</a>,      <a href="http://rmcgibbo.github.io/tag/group-meeting.html">group meeting</a>    </section>

  
                    
  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
          <a href="https://github.com/rmcgibbo">@rmcgibbo</a> on GitHub
        <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'http://rmcgibbo.github.io/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'rmcgibbo',
              count: 3,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="http://rmcgibbo.github.io/theme/js/github.js" type="text/javascript"> </script>
  </section>
  
    <section>
    <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("rmcgibbo", 3, false);
    });
  </script>
  <script src="/theme/js/twitter.js" type="text/javascript"> </script>
        <a href="http://twitter.com/rmcgibbo" class="twitter-follow-button" data-show-count="true">Follow @rmcgibbo</a>
  </section>
  <section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/rmcgibbo?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Robert McGibbon -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
      <script type="text/javascript">
	    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
	    try {
	        var pageTracker = _gat._getTracker("UA-41152738-1");
	    pageTracker._trackPageview();
	    } catch(err) {}
	</script>
	<script type="text/javascript">
	            var disqus_identifier = 'http://rmcgibbo.github.io/blog/2013/05/22/under-one-roof/';
          var disqus_url = 'http://rmcgibbo.github.io/blog/2013/05/22/under-one-roof/';
	  var disqus_title = 'Under One Roof';
	  	  var disqus_shortname = 'rmcgibbo';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>
</body>
</html>